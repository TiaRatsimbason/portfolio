<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='projet/projet.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='diploma-button.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Linking SwiperJS CSS partie projet-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

    <!-- Linking SwiperJS script partie projet-->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <title>Mon Portfolio</title>
</head>
<body>
    <canvas id="neuro"></canvas>
    
    <!-- Diploma Button -->
    <div class="diploma-button-wrap">
        <a href="https://files.datascientest.com/diploma/296857c9-558e-4479-8afd-8abc77af97bf.pdf" target="_blank" class="diploma-button">
            <span>DIPLOMA</span>
        </a>
        <div class="button-shadow"></div>
    </div>
    <!-- Dotted Background - caché -->
    <svg class="diploma-dotted-grid" style="position: absolute; width: 100%; height: 100%; z-index: 0;" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <pattern id="dottedGrid" width="30" height="30" patternUnits="userSpaceOnUse">
                <circle cx="2" cy="2" r="1" fill="rgba(0,0,0,0.15)" />
            </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#dottedGrid)" />
    </svg>
    
    <header>
        <div class="main-container">
          <section class="profile-special">
            <div class="profile-avatar" style="--bg-img:url({{ url_for('static', filename='images/photo.png') }})">
                <div class="profile-avatar-img">
                    <img src="{{ url_for('static', filename='images/photo_sans_contour.png') }}">
                </div>
                <p>Tia Ratsimbason</p>
            </div>
          </section>
        <div class="main-container">
            <div class="first-container share">
                <h1>
                    <span>M</span>
                    <span>A</span>
                    <span>C</span>
                    <span>H</span>
                    <span>I</span>
                    <span>N</span>
                    <span>E</span>
                  <br>
                    <span>L</span>
                    <span>E</span>
                    <span>A</span>
                    <span>R</span>
                    <span>N</span>
                    <span>I</span>
                    <span>N</span>
                    <span>G</span>
                  <br>
                    <span>E</span>
                    <span>N</span>
                    <span>G</span>
                    <span>I</span>
                    <span>N</span>
                    <span>E</span>
                    <span>E</span>
                    <span>R</span>
                  </h1>
                  
            </div>
        </div>
    </header>

    <main class="content-wrapper">
        <section class="section-base skills-section" id="skills-target">
            <!-- ... -->
        </section>
        
        <section id="projet-target">
            {% include 'projet.html' %}
        </section>
        
        <!-- Suppression de la classe contact-section -->
        <section id="contact-target">
            <!-- Le contenu sera injecté ici par contact/index.js -->
        </section>
    </main>

    <!-- Scripts des shaders -->
    <script type="x-shader/x-vertex" id="vertShader">
        precision mediump float;
        varying vec2 vUv;
        attribute vec2 a_position;

        void main() {
            vUv = .5 * (a_position + 1.);
            gl_Position = vec4(a_position, 0.0, 1.0);
        }
    </script>

    <script type="x-shader/x-fragment" id="fragShader">
        precision mediump float;
        varying vec2 vUv;
        uniform float u_time;
        uniform float u_ratio;
        uniform vec2 u_pointer_position;
        uniform float u_scroll_progress;

        vec2 rotate(vec2 uv, float th) {
            return mat2(cos(th), sin(th), -sin(th), cos(th)) * uv;
        }

        float neuro_shape(vec2 uv, float t, float p) {
            vec2 sine_acc = vec2(0.);
            vec2 res = vec2(0.);
            float scale = 8.;

            for (int j = 0; j < 15; j++) {
                uv = rotate(uv, 1.);
                sine_acc = rotate(sine_acc, 1.);
                vec2 layer = uv * scale + float(j) + sine_acc - t;
                sine_acc += sin(layer);
                res += (.5 + .5 * cos(layer)) / scale;
                scale *= (1.2 - .07 * p);
            }
            return res.x + res.y;
        }

        void main() {
            vec2 uv = .5 * vUv;
            uv.x *= u_ratio;

            vec2 pointer = vUv - u_pointer_position;
            pointer.x *= u_ratio;
            float p = clamp(length(pointer), 0., 1.);
            p = .5 * pow(1. - p, 2.);

            float t = .001 * u_time;
            vec3 color = vec3(0.);

            float noise = neuro_shape(uv, t, p);

            noise = 1.2 * pow(noise, 3.);
            noise += pow(noise, 10.);
            noise = max(.0, noise - .5);
            noise *= (1. - length(vUv - .5));

            color = normalize(vec3(.2, .5 + .4 * cos(3. * u_scroll_progress), .5 + .5 * sin(3. * u_scroll_progress)));

            color = color * noise;

            gl_FragColor = vec4(color, noise);
        }
    </script>
    <!-- Modifiez votre script projet pour utiliser babel -->
    <script type="module" src="{{ url_for('static', filename='script.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='skills/index.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='projet/index.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='contact/index.js') }}"></script>
</body>
</html>